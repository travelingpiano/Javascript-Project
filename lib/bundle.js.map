{"version":3,"sources":["webpack:///webpack/bootstrap 1e25adfb7b377b99f9e5","webpack:///./lib/entry.js","webpack:///./lib/image_show.js"],"names":["gl","horizAspect","vertexPositionAttribute","squareVerticesBuffer","start","canvas","document","getElementById","initWebGL","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","viewport","width","height","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","getContext","alert","initShaders","fragmentShader","getShader","vertexShader","console","log","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","getAttribLocation","enableVertexAttribArray","id","type","shaderScript","shader","theSource","currentChild","firstChild","nodeType","textContext","nextSibling","FRAGMENT_SHADER","VERTEX_SHADER","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","initBuffers","createBuffer","bindBuffer","ARRAY_BUFFER","vertices","bufferData","Float32Array","STATIC_DRAW","drawScene","perspectiveMatrix","makePerspective","loadIdentity","mvTranslate","vertexAttribPointer","FLOAT","drawArrays","TRIANGLE_STRIP","addEventListener","ImageShow","canvasEl","ctx","testImage","Image","imageReady","processImage","onload","src","drawImage","imagePath","reader","FileReader"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1e25adfb7b377b99f9e5","import ImageShow from './image_show';\n\n// document.addEventListener('DOMContentLoaded', ()=>{\n//   const canvasEl = document.getElementsByTagName('canvas')[0];\n//   let image = new ImageShow(canvasEl);\n//   // let imageUpload = document.querySelector('input');\n//   // imageUpload.addEventListener('change',processImage);\n//   let button1 = document.getElementsByName('button1')[0];\n//   console.log(button1);\n//   button1.addEventListener('click',processImage1);\n// });\n//\n// function processImage1(){\n//   let canvas = document.getElementsByTagName('canvas')[0];\n//   let ctx = canvas.getContext('2d');\n//   console.log(ctx.getImageData(0,0,1280,1014));\n// }\n//\n// function processImage(){\n//   let imageUpload = document.querySelector('input').files[0];\n//   console.log(imageUpload);\n//   let reader = new FileReader();\n//   reader.addEventListener('load',function(){\n//     console.log(reader.result.data);\n//   });\n//   console.log(imageUpload);\n//   reader.readAsDataURL(imageUpload);\n// }\n\nlet gl;\nlet horizAspect = 480.0/640.0;\nlet vertexPositionAttribute;\nlet squareVerticesBuffer;\n\nlet start = () => {\n  let canvas = document.getElementById('glCanvas');\n\n  //Initialize the GL context\n  gl = initWebGL(canvas);\n  if(!gl){\n    return;\n  }\n\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthFunc(gl.LEQUAL);\n  gl.viewport(0,0, canvas.width, canvas.height);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n};\n\nlet initWebGL = canvas => {\n  gl = null;\n  gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n  if(!gl){\n    alert('unable to initialize webgl!');\n  }\n  return gl;\n};\n\nlet initShaders = () => {\n  let fragmentShader = getShader('shader-fs');\n  let vertexShader = getShader('shader-vs');\n  console.log(vertexShader);\n  console.log(fragmentShader);\n  let shaderProgram = gl.createProgram();\n  gl.attachShader(shaderProgram, vertexShader);\n  gl.attachShader(shaderProgram, fragmentShader);\n  gl.linkProgram(shaderProgram);\n\n  if(!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)){\n    console.log('unable to initialize the shader program');\n  }\n\n  gl.useProgram(shaderProgram);\n\n  vertexPositionAttribute = gl.getAttribLocation(shaderProgram);\n  gl.enableVertexAttribArray(vertexPositionAttribute);\n};\n\nlet getShader = (id, type) => {\n  let shaderScript, shader;\n\n  shaderScript = document.getElementById(id);\n\n  if(!shaderScript) {\n    return null;\n  }\n\n  let theSource = \"\";\n  let currentChild = shaderScript.firstChild;\n\n  while(currentChild){\n    if(currentChild.nodeType == 3){\n      theSource += currentChild.textContext;\n    }\n    currentChild = currentChild.nextSibling;\n  }\n\n  if(!type){\n    if(shaderScript.type == 'x-shader/x-fragment'){\n      type = gl.FRAGMENT_SHADER;\n    }else if(shaderScript.type == 'x-shader/x-vertex'){\n      type = gl.VERTEX_SHADER;\n    }else{\n      return null;\n    }\n  }\n  shader = gl.createShader(type);\n  gl.shaderSource(shader, theSource);\n\n  //Compile the shader program\n  gl.compileShader(shader);\n  console.log(shader);\n  //See if it compiled successfully\n  if(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)){\n    console.log('an error occured compiling the shaders: '  + gl.getShaderInfoLog(shader));\n    gl.deleteShader(shader);\n    return null;\n  }\n  return shader;\n};\n\nlet initBuffers = () => {\n  squareVerticesBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, squareVerticesBuffer);\n\n  let vertices = [\n    1.0, 1.0, 0.0,\n    -1.0, 1.0, 0.0,\n    1.0, -1.0, 0.0,\n    -1.0, -1.0, 0.0\n  ];\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n};\n\nlet drawScene = () => {\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  let perspectiveMatrix = makePerspective(45, 1/horizAspect, 0.1, 100);\n\n  loadIdentity();\n  mvTranslate([-0.0, 0.0, -6.0]);\n\n  gl.bindBuffer(gl.ARRAY_BUFFER, squareVerticesBuffer);\n  gl.vertexAttribPointer(vertexPositionAttribute, 3, gl.FLOAT, false, 0,0);\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n};\n\ndocument.addEventListener('DOMContentLoaded',()=>{\n  start();\n  initShaders();\n  initBuffers();\n  drawScene();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","class ImageShow {\n  constructor(canvasEl){\n    this.canvas = canvasEl;\n    // this.ctx = canvasEl.getContext('2d');\n    let ctx = canvasEl.getContext('2d');\n    let testImage = new Image();\n    this.testImage = new Image();\n    this.imageReady = false;\n    let width;\n    let height;\n    let canvas = this.canvas;\n    let processImage = this.processImage;\n    testImage.onload = function(){\n      // this.imageReady = true;\n      canvas.width = this.width;\n      canvas.height = this.height;\n      console.log(this.width);\n      console.log(this.height);\n      processImage(this.src);\n      ctx.drawImage(testImage,0,0,this.width, this.height);\n// let image = ctx.getImageData(0,0,1280,1014);\n    };\n\n    // console.log(image);\n    // this.testImage.src = 'images/1280px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg';\n    testImage.src = 'images/1280px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg';\n  }\n\n  processImage(imagePath){\n    // let file = new XMLHttpRequest('/images/1280px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg');\n    let reader = new FileReader();\n    reader.onload = ()=>{\n      console.log(reader);\n    };\n  }\n\n  render(){\n    // console.log(this.ctx);\n    // this.testImage.onload(this.ctx);\n    // if(this.imageReady){\n    //   this.ctx.drawImage(this.testImage,0,0);\n    //   console.log(this.testImage);\n    // }\n  }\n}\n\nexport default ImageShow;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/image_show.js"],"sourceRoot":""}